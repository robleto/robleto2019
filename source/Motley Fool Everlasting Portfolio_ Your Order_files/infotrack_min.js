var dataProtectionForm;!function(global,document){global.Infotrack=global.Infotrack||{};var infotrackVersion="5.0.0";!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t[e]=n()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,i=t.headers||{};i.Accept=i.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var r="undefined"!=typeof FormData&&t.data instanceof FormData;!t.crossOrigin&&!i[requestedWith]&&(i[requestedWith]=defaultHeaders.requestedWith),!i[contentType]&&!r&&(i[contentType]=t.contentType||defaultHeaders.contentType);for(n in i)i.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,i[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,i){var r=uniqid++,o=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(r),s=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),c=i.match(s),l=doc.createElement("script"),u=0,p=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return c?"?"===c[3]?i=i.replace(s,"$1="+a):a=c[3]:i=urlappend(i,o+"="+a),context[a]=generalCallback,l.type="text/javascript",l.src=i,l.async=!0,"undefined"!=typeof l.onreadystatechange&&!p&&(l.htmlFor=l.id="_reqwest_"+r),l.onload=l.onreadystatechange=function(){return!(l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||u)&&(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),void(u=1))},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),u=1}}}function getRequest(e,t){var n,i=this.o,r=(i.method||"GET").toUpperCase(),o="string"==typeof i?i:i.url,a=i.processData!==!1&&i.data&&"string"!=typeof i.data?reqwest.toQueryString(i.data):i.data||null,s=!1;return("jsonp"==i.type||"GET"==r)&&a&&(o=urlappend(o,a),a=null),"jsonp"==i.type?handleJsonp(i,e,t,o):(n=i.xhr&&i.xhr(i)||xhr(i),n.open(r,o,i.async!==!1),setHeaders(n,i),setCredentials(n,i),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),i.before&&i.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,i,r,o,a=e.name,s=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),i=/radio/i.test(e.type),r=e.value,(!n&&!i||e.checked)&&t(a,normalize(n&&""===r?"on":r)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&c(e.options[o])}}function eachFormElement(){var e,t,n=this,i=function(e,t){var i,r,o;for(i=0;i<t.length;i++)for(o=e[byTag](t[i]),r=0;r<o.length;r++)serial(o[r],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),i(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,i){var r,o,a,s=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)a=t[o],n||s.test(e)?i(e,a):buildParams(e+"["+("object"==typeof a?o:"")+"]",a,n,i);else if(t&&"[object Object]"===t.toString())for(r in t)buildParams(e+"["+r+"]",t[r],n,i);else i(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,i,r=t||!1,o=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=a(e)+"="+a(t)};if(isArray(e))for(i=0;e&&i<e.length;i++)s(e[i].name,e[i].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],r,s);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest});var infotrack=global.Infotrack,urlString,pageType,project,initialPageCalled=!1,publicKey="35527423-a535-4519-a07f-20014582e03e",alternativeSegmentWriteKey="GcGFVkUwvSFmWYwnR65z1kh9tZYqZW7a",urlIsEU="https://www.fool.com/a/apikey/"+publicKey+"/infotron/infotrack/is-eu/",urlGDPRModalJavascript="//g.foolcdn.com/mms/resources/js/international-visitor-notice-js",urlGDPRStandAlonePage="https://{0}www.fool.com/data-protection",_euFunctions=[],_visitCookie={},_visitorCookie={},_sookieCookie={},_lookieCookie=!1,_lastauthCookie=!1,_visitDims={};infotrack.version=infotrackVersion;var _ready=!1,_callback=[],nonValue=null,_unknownDimensions={qsParams:{},jsProps:{},metaAttrs:{}},scopes={track:["HIT","SESSION","USER","PRODUCT","FOOL"],identify:["USER","SESSION"],page:["HIT","SESSION","FOOL","PRODUCT"],"default":["HIT","SESSION","USER","PRODUCT"]},lookup={article:"first_article_in_session",marketing:"first_marketing_page"},possiblePaths={"video-alert":"video",ecap:"ecap_page","free-access":"ecap_page",order:"order_page","ext-content":"advertorial","investor-alert":"landing_page",vip:"landing_page"},usCustomDimensions=[{name:"splitter_testid_cellid",scope:"SESSION",active:!0},{name:"uid",scope:"USER",active:!0},{name:"visitor_guid",scope:"USER",active:!0},{name:"source",scope:"HIT",active:!0},{name:"article_headline",scope:"HIT",active:!0},{name:"ResponsiveALP",scope:"SESSION",active:!0},{name:"article_bureau",scope:"HIT",active:!0},{name:"article_author",scope:"HIT",active:!0},{name:"article_publishdatetime",scope:"HIT",active:!1},{name:"isEcapped",scope:"USER",active:!0},{name:"isBuyer",scope:"SESSION",active:!1},{name:"ownsStockAdvisor",scope:"SESSION",active:!1},{name:"ownsRuleBreakers",scope:"SESSION",active:!1},{name:"ownsRuleYourRetirement",scope:"SESSION",active:!1},{name:"ownsOne",scope:"SESSION",active:!1},{name:"account_guid",scope:"USER",active:!0},{name:"order_type",scope:"HIT",active:!0},{name:"HPTesting",scope:"SESSION",active:!0},{name:"article_publish_date",scope:"HIT",active:!0},{name:"article_publish_time",scope:"HIT",active:!0},{name:"article_tags",scope:"HIT",active:!0},{name:"article_tickers",scope:"HIT",active:!0},{name:"testId",scope:"HIT",active:!0},{name:"cellId",scope:"HIT",active:!0},{name:"first_article_in_session",scope:"SESSION",active:!0},{name:"first_article_uuid",scope:"SESSION",active:!0},{name:"first_marketing_page",scope:"SESSION",active:!0},{name:"first_source",scope:"SESSION",active:!0},{name:"last_video_in_session",scope:"SESSION",active:!0},{name:"last_ecap_page_in_session",scope:"SESSION",active:!0},{name:"last_order_page_in_session",scope:"SESSION",active:!0},{name:"last_advertorial_in_session",scope:"SESSION",active:!0},{name:"last_landing_page_in_session",scope:"SESSION",active:!0},{name:"last_article_in_session",scope:"SESSION",active:!0},{name:"session_guid",scope:"SESSION",active:!0},{name:"infotrack_js",scope:"HIT",active:!0},{name:"uid_targeting",scope:"USER",active:!0},{name:"first_article_author",scope:"SESSION",active:!0},{name:"first_article_bureau",scope:"SESSION",active:!0},{name:"first_article_headline",scope:"SESSION",active:!0},{name:"first_article_publish_date",scope:"SESSION",active:!0},{name:"first_article_publish_time",scope:"SESSION",active:!0},{name:"order_page_content_slug",scope:"SESSION",active:!0},{name:"mailing_id",scope:"SESSION",active:!0},{name:"mailing_name",scope:"SESSION",active:!0},{name:"article_type",scope:"HIT",active:!0},{name:"ftm_mes",scope:"HIT",active:!0},{name:"ftm_veh",scope:"HIT",active:!0},{name:"ftm_cam",scope:"HIT",active:!0},{name:"ftm_pit",scope:"HIT",active:!0},{name:"ftm_heat",scope:"HIT",active:!0},{name:"ftm_derby",scope:"HIT",active:!0},{name:"isFormer",scope:"USER",active:!0},{name:"first_article_type",scope:"SESSION",active:!0},{name:"first_article_tickers",scope:"SESSION",active:!0},{name:"hit_level_uid",scope:"HIT",active:!0},{name:"uqs",scope:"SESSION",active:!0},{name:"referring_article_type",scope:"SESSION",active:!1},{name:"referring_article_author",scope:"SESSION",active:!1},{name:"referring_article_bureau",scope:"SESSION",active:!1},{name:"referring_article_headline",scope:"SESSION",active:!1},{name:"referring_article_publish_date",scope:"SESSION",active:!1},{name:"last_page_in_session",scope:"SESSION",active:!0},{name:"project",scope:"HIT",active:!0},{name:"article_uuid",scope:"HIT",active:!0},{name:"offer_order",scope:"HIT",active:!0},{name:"msclkid",scope:"SESSION",active:!0},{name:"userAgent",scope:"SESSION",active:!0},{name:"publisher",scope:"SESSION",active:!0},{name:"gclid",scope:"SESSION",active:!0},{name:"fbclid",scope:"SESSION",active:!0},{name:"article_has_partner",scope:"HIT",active:!0},{name:"article_modified_date",scope:"HIT",active:!0},{name:"article_product",scope:"HIT",active:!0},{name:"partner_user_uid",scope:"SESSION",active:!0},{name:"# ownsFoolWealth",scope:"USER",active:!1},{name:"# ownsExplorer",scope:"USER",active:!1},{name:"article_funnel_stage",scope:"HIT",active:!0},{name:"campaign_group",scope:"SESSION",active:!0}],internalDimensions=[{name:"STORY_UID",scope:"FOOL",active:!0},{name:"utm_source",scope:"FOOL",active:!0},{name:"utm_medium",scope:"FOOL",active:!0},{name:"utm_campaign",scope:"FOOL",active:!0},{name:"utm_term",scope:"FOOL",active:!0},{name:"utm_content",scope:"FOOL",active:!0},{name:"infotrackSnippetVersion",scope:"FOOL",active:!0},{name:"firstName",scope:"USER",active:!0},{name:"accessible_services",scope:"USER",active:!0}],customDimensions=usCustomDimensions.concat(internalDimensions),preventPostPurchaseTracking=["first_article_in_session","first_marketing_page","first_article_author","first_article_bureau","first_article_headline","first_article_publish_date","first_article_publish_time","first_article_type","first_article_tickers","ResponsiveALP","HPTesting","TSTR_Agg","order_page_content_slug","last_order_page_in_session"],isEmpty=function(e){if(null===e||"undefined"==typeof e)return!0;if("number"==typeof e)return!1;if("boolean"==typeof e)return!1;if("string"==typeof e&&e)return!1;if("function"==typeof e)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},clone=function(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)t[n]=clone(e[n]);return t},combine=function(e,t){if(!t)return e;if(isEmpty(e))return t;var n=clone(e);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},isInt=function(e){return!isNaN(e)&&parseInt(Number(e),10)==e&&!isNaN(parseInt(e,10))},getType=function(e){var t=Object.prototype.toString.call(e);return t=t.slice(8,-1)},capitalize=function(e){var t=e.toString();return t[0].toUpperCase()+t.slice(1)},uniq=function(e){for(var t={},n=[],i=0;i<e.length;i++)t[e[i]]=e[i];for(var r in t)n.push(t[r]);return n},getCookieString=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t)){var o=r.substring(t.length,r.length),a=0===o.lastIndexOf('"',0),s=o.lastIndexOf('"')===o.length-1;return a&&s&&(o=o.slice(1,-1)),o}}},getCookieObject=function(e){var t={},n=getCookieString(e);if(void 0!==n){for(var i=n.split("&"),r=0;r<i.length;r++){var o=i[r].split("=");if(1==o.length)t.value=o[0];else{if(2!=o.length)return;t[o[0]]=o[1]}}return t}},getParamsFromQueryString=function(){var e={},t=stringToUrl(urlString);if(t&&"undefined"!=typeof t.search&&"function"!=typeof t.search){var n,i,r=RegExp("^[a-zA-Z0-9-_,%$]+$"),o=t.search.substring(1);n=o.split("&");for(var a=0;a<n.length;a++)i=n[a].split("="),i[0]&&(i.length<2&&i.push(""),r.test(i[0])&&r.test(i[1])&&(e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])))}return e},getUserAgent=function(){return global.navigator.userAgent},uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="y"==e?3&t|8:t;return n.toString(16)})},ie=function(){for(var e,t=3,n=document.createElement("div"),i=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return t>4?t:e}(),stringToUrl=function(e){var t;return e&&(e.indexOf("://")<0&&(e="http://"+e),t=document.createElement("a"),t.href=e),t},getUrl=function(){var e=stringToUrl(urlString)||global.location,t=resolvePathnameInIE(e.pathname);return[e.hostname,t].join("")},yearsInTheFuture=function(e){e=parseInt(e)||1;var t=new Date,n=t.getTime(),i=315576e5,r=n+i*e;return t.setTime(r),t.toGMTString()},minutesInTheFuture=function(e){e=parseInt(e)||90;var t=new Date,n=t.getTime(),i=6e4,r=n+i*e;return t.setTime(r),t.toGMTString()},resolvePathnameInIE=function(e){return 0!==e.indexOf("/")&&(e="/"+e),e},getDomain=function(e){var t=function(){for(var t=0,n=e||document.domain,i=n.split("."),r="_gd"+(new Date).getTime();t<i.length-1&&document.cookie.indexOf(r+"="+r)==-1;)n=i.slice(-1-++t).join("."),document.cookie=r+"="+r+";domain="+n+";";return document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+n+";",n}();return t.indexOf("localhost")>-1?"":"."+t},isBot=function(){var e=global.navigator.userAgent,t="(bot|crawler|spider|google|baidu|bing|msn|teoma|slurp|sogou|alexa|yandex|simplepie|okhttp|scoutjet|facebookexternalhit)",n=new RegExp(t);return n.test(e)},getUid=function(e){if(!isEmpty(e)&&e.uid)return e.uid;for(var t=["uid","targeting_value","u"],n=getParamsFromQueryString(),i=0;i<t.length;i++){var r=t[i];if(n.hasOwnProperty(r)&&isInt(n[r]))return n[r]}},getGuid=function(e){return isEmpty(e)||!e.visitor?nonValue:e.visitor},getAccount=function(e){return isEmpty(e)||!e.account?nonValue:e.account},isEcapped=function(e){return isEmpty(e)||!e.ecapped?nonValue:capitalize(e.ecapped)},getSource=function(){var e=getParamsFromQueryString(),t=e.source||e.src;return t},getFirstSource=function(){if(_visitDims&&_visitDims.first_source)return _visitDims.first_source;var e=getSource()||"NoSource";return _sookieCookie.source||e},_getActiveSegmentKey=function(){return global.segmentKey},preventCustomDimensionOverride=function(e){for(var t=0;t<customDimensions.length;t++)customDimensions[t].name===e&&(customDimensions[t].active=!1)},isCustomDimension=function(e,t){return t=t||scopes["default"],customDimensions.filter(function(n){return n.name===e&&n.active===!0&&t.indexOf(n.scope)>-1}).length>0},sortDimensions=function(e,t){var n={},i={};for(var r in e)e.hasOwnProperty(r)&&(isCustomDimension(r,t)?n[r]=e[r]:i[r]=e[r]);return[n,i]},getDimsFromMetaData=function(){for(var e=document.getElementsByTagName("meta"),t={},n=0;n<e.length;n++){var i=e[n],r=void 0;if(i.dataset)r=i.dataset.trackerKey;else if(!i.dataset&&i.attributes.length>0)for(var o=0;o<i.attributes.length;o++){var a=i.attributes[o];if("data-tracker-key"===a.nodeName){r=a.nodeValue;break}}isCustomDimension(i.name,["FOOL"])&&(t[i.name]=i.content),r&&(t[r]=i.content)}var s=sortDimensions(t);return _unknownDimensions.metaAttrs=s[1],s[0]},getCustomDimensionFromDataTrackerAttributes=function(e){function t(e){return e.slice(-1).toUpperCase()}var n={};if(e.dataset)for(var i=Object.keys(e.dataset),r=0;r<customDimensions.length;r++){var o=customDimensions[r].name.toLowerCase();o=o.replace(/-./g,t),i.indexOf(o)!==-1&&(n[customDimensions[r].name]=e.dataset[o])}else if(!e.dataset&&e.attributes.length>0){for(var i=[],a=0;a<e.attributes.length;a++)if(e.attributes[a].nodeName.startsWith("data-")){var s=tagAttributes[a].nodeName.replace("data-","");i.push(s)}for(var c=0;c<customDimensions.length;c++){var o=customDimensions[c].name.toLowerCase();i.indexOf(o)!==-1&&(n[customDimensions[c].name]=e.getAttribute("data-"+o))}}return n},autoTrackLinks=function(){for(var e="Page Engagement",t="Element Clicked",n=document.querySelectorAll("[data-track-link]"),i=0;i<n.length;i++){var r,o,a="",s=n[i];if(s.dataset)a=s.dataset.trackLink,r=s.dataset.trackCategory,o=s.dataset.trackAction;else if(!s.dataset&&s.attributes.length>0)for(var c=0;c<s.attributes.length;c++){var l=s.attributes[c];"data-track-category"===l.nodeName?r=l.nodeValue:"data-track-action"===l.nodeName?o=l.nodeValue:"data-track-link"===l.nodeName&&(a=l.nodeValue)}if(a=a.trim()){var u={category:r||e,label:a},p=getCustomDimensionFromDataTrackerAttributes(s),f=combine(u,p),m=o||t;infotrack.trackLink(s,m,f)}}},getFoolDimensions=function(e){var t={};for(var n in e)isCustomDimension(n,["FOOL"])&&(t[n]=e[n]);return t},getFoolDimensionsFromUnknown=function(){var e={};for(var t in _unknownDimensions){var n=getFoolDimensions(_unknownDimensions[t]);e=combine(e,n)}return e},separateGAproperties=function(e){var t=["category","label","nonInteraction","currency"],n={};for(var i in e)e.hasOwnProperty(i)&&t.indexOf(i)>-1&&(n[i]=e[i],delete e[i]);return[e,n]},pushToDataLayer=function(e,t){global.dataLayer=global.dataLayer||[];var n=global.dataLayer,i=combine(clone(e),{event:t});for(var r in i)isEmpty(i[r])&&delete i[r];n.push(i)},getOtherLookup=function(e){var t;for(var n in lookup)t=n!==e?lookup[n]:t;return t},_create_fool_cookie=function(e,t,n,i){var r=getDomain(),o=e+"="+t+";path=/;domain="+r+";expires="+n+";";i&&(o+=";"+i),document.cookie=o},updateOrCreateVisitorCookie=function(e){var t="Visitor",n=getCookieString(t);if(!n||e){var i=n;i&&i.indexOf("visitor=")!==-1||(i="uid=&username=&account=&registered=false&ecapped=false&dskPrf=false&version=7&visits=0&visitor="+uuid()),i.indexOf("visits=")===-1&&(i+="&visits=0");var r=i.split("visits=")[1].split("&")[0],o=parseInt(r,10);o++,i=i.replace("visits="+r,"visits="+o);var a=yearsInTheFuture(10);_create_fool_cookie(t,i,a)}return getCookieObject(t)},updateOrCreateVisitCookie=function(){var e=getCookieObject("Visit");if(!e)return create_visitCookie();var t="Visit",n=getCookieString("Visit"),i=minutesInTheFuture(90);return _create_fool_cookie(t,n,i),getCookieObject(t)},create_visitCookie=function(e){var t="Visit",n="visit="+(_visitCookie.visit||uuid())+(e||"&first_article_in_session=0&first_marketing_page=0"),i=minutesInTheFuture(90);_create_fool_cookie(t,n,i);var r=getCookieObject(t)||{};return r.created=!e,r},create_canTrackCookie=function(e){var t="ct",n=minutesInTheFuture(90);return _create_fool_cookie(t,e,n),getCookieObject(t)},create_consentStatusCookie=function(){var e="cookieconsent_status",t=minutesInTheFuture(1440);_create_fool_cookie(e,"not_applicable",t)},create_sameSessionCookie=function(){var e="sameSession",t=minutesInTheFuture(90);_create_fool_cookie(e,"1",t)},addContentTypeToVisitCookie=function(e){var t=getCookieObject("hasBought")||{};if(isEmpty(t)&&e in lookup&&e){var n=lookup[e],i=getOtherLookup(e);_visitCookie[i]=_visitCookie[i]||0,_visitCookie[n]=1;var r="&"+n+"="+parseInt(_visitCookie[n],10)+"&"+i+"="+parseInt(_visitCookie[i],10);return create_visitCookie(r),n}},getContentType=function(e){var t=e||getDimsFromMetaData();return t.hasOwnProperty("article_uuid")?"article":pageType},firstContentHasBeenSet=function(e){return!(e&&e in lookup)||parseInt(_visitCookie[lookup[e]],10)>0},getFirstContent=function(e,t){if(!firstContentHasBeenSet(e)){var n={},i={};if("article"!==e||(i=additionalFirstArticleData(t),!isEmpty(i))){var r=addContentTypeToVisitCookie(e);return r&&(n[r]=getUrl()),combine(n,i)}}},additionalFirstArticleData=function(e){var t={},n=["article_author","article_bureau","article_headline","article_publish_date","article_publish_time","article_type","article_tickers","article_uuid"];for(var i in e)e.hasOwnProperty(i)&&n.indexOf(i)>-1&&(t["first_"+i]=e[i]);return t},getLastContent=function(e,t){var n=getUrl(),i={};if("article"===e)i.last_article_in_session=n;else if(t&&t.hasOwnProperty("order_type")&&!isEmpty(t.order_type)&&"Normal"!==t.order_type);else{var r=n.split("/");for(var o in possiblePaths)if(r.indexOf(o)>-1){var a="last_"+possiblePaths[o]+"_in_session";i[a]=n}}return getCookieObject("sameSession")||(i.last_page_in_session=n),i},suppressPostPurchaseTracking=function(e){return preventPostPurchaseTracking.indexOf(e)>-1&&isCustomDimension(e,"SESSION")},removeSuppressedDimensions=function(e){var t=getCookieObject("hasBought")||{};if(isEmpty(t))return e;for(var n in e)suppressPostPurchaseTracking(n)&&delete e[n];return e},getSessionGuid=function(){return _visitDims&&_visitDims.session_guid||("undefined"==typeof _visitCookie.visit&&create_visitCookie(),_visitDims.session_guid=_visitCookie.visit||uuid()),_visitDims.session_guid},localStorageTest=function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}},getUserTraits=function(){if("undefined"!=typeof global.analytics&&global.analytics.hasOwnProperty("user")&&global.analytics.user().hasOwnProperty("traits"))return global.analytics.user().traits();if(localStorageTest()===!0){var e=global.localStorage.getItem("ajs_user_traits");return JSON.parse(e)||{}}return{}},unidentify=function(){var e=getUserTraits(),t={},n={},i=/^owns.+/;for(var r in e)i.test(r)&&(n[r]=void 0);for(var o=0;o<customDimensions.length;o++)e.hasOwnProperty(customDimensions[o].name)&&"USER"!==customDimensions[o].scope&&(t[customDimensions[o].name]=void 0);return combine(n,t)},trackReferringArticle=function(){if(!initialPageCalled){var e=getParamsFromQueryString();"referring_guid"in e&&trackArticleCustomDimensions(e.referring_guid)}},isStaging=function(){var e=getUrl(),t=stringToUrl(e),n=t.hostname,i=n.split(".")[0];return"staging"===i},buildServerSideInfotrackURL=function(){var e=isStaging()?"staging.":"";return"https://"+e+"www.fool.com/a/apikey/"+publicKey+"/infotron/infotrack/"},getUrlGDPRStandAlonePage=function(){var e=isStaging()?"staging.":"";return urlGDPRStandAlonePage.replace(/\{0\}/,e)},getReferringStoryURL=function(){if(document.referrer)return document.referrer;var e=getParamsFromQueryString();return e.hasOwnProperty("utm_source")?e.utm_source:void 0},trackArticleCustomDimensions=function(e){var t=buildServerSideInfotrackURL()+"track_content/";reqwest({url:t,type:"json",method:"GET",data:{referring_guid:e,referring_url:getReferringStoryURL()},crossOrigin:!0,withCredentials:!0})},trackProductsOwned=function(){if(_lookieCookie||_lastauthCookie){var e=getSessionGuid(),t="infotrackSession";if(!localStorageTest()||global.localStorage.getItem(t)!==e){var n=buildServerSideInfotrackURL()+"track_products_owned/";reqwest({url:n,type:"json",method:"POST",crossOrigin:!0,withCredentials:!0,success:function(n){200===n.status&&localStorageTest()&&localStorage.setItem(t,e)},error:function(e){}})}}},foolWealthShiv=function(e){var t=getDomain();if(t.indexOf("foolwealth.com")>-1){var n=getCookieObject("Fool")||{};n.Uid&&(e.uid=n.Uid)}return e},getFoolCookies=function(){var e=updateOrCreateVisitCookie()||{},t=updateOrCreateVisitorCookie(e.created)||{},n=!!getCookieObject("Lookie"),i=!!getCookieObject("lastauth"),r=getCookieObject("Sookie")||{};return!isEmpty(t)&&getGuid(t)||(t.visitor=uuid()),!isEmpty(e)&&e.visit||(e.visit=uuid()),t=foolWealthShiv(t),{visitor:t,visit:e,lookie:n,lastauth:i,sookie:r}},setUrl=function(e){return urlString=e||global.location.href},trackError=function(e){var t={category:"Lost-And-Found",label:pageType};infotrack.track(e,t)},reset=function(){global.analytics.reset()},alias=function(e,t,n,i){global.analytics.alias(e,t,n,i)},debug=function(e){global.analytics.debug(e)},group=function(e,t,n,i){global.analytics.group(e,t,n,i)},_trackThing=function(e,t,n,i){function r(){return o("Function"===getType(n)?n():"Object"!==getType(n)?{}:n)}function o(e){var t=separateGAproperties(e),n=t[1],i=t[0];i.project=project;var r=sortDimensions(i,a),o=r[1],s=removeSuppressedDimensions(r[0]),c={};c.metaAttrs=_unknownDimensions.metaAttrs,c.qsParams=_unknownDimensions.qsParams,c.jsProps=o;var l=combine(_visitDims,infotrack.userDimensions),u=combine(l,n),p=combine(u,s);return p.additional=c,create_sameSessionCookie(),p}var a=scopes.track;return t&&"string"==typeof t?void global.analytics[i](e,t,r):void(global.console&&console.log&&(trackError("Unnamed "+i+" Call"),console.log("ALERT: Infotrack cannot track unnamed event!")))},trackLink=function(e,t,n){_trackThing(e,t,n,"trackLink")},trackForm=function(e,t,n){_trackThing(e,t,n,"trackForm")},ready=function(e){if("function"==typeof e&&_callback.push(e),_ready)for(;_callback.length>0;)global.analytics.ready(_callback.shift())},page=function(e,t,n,i,r){var o=processArguments(arguments,"page"),a=scopes.page;e=o.category,pageType=infotrack.pageType=o.name||document.title||infotrack.pageType,n=o.properties||{},i=o.options||{},r=o.callback;var s={};s.project=project;var c=["title","url","path","referrer"],l={};for(var u in n){var p=u.toLowerCase();n.hasOwnProperty(u)&&c.indexOf(p)>-1&&(l[p]=n[u])}l.url=setUrl(l.url),(l.title||document.title)&&(l.title=l.title||document.title);var f=l.title||pageType,m=getParamsFromQueryString(),d=sortDimensions(m,a);s=combine(s,d[0]),_unknownDimensions.qsParams=d[1];var g=sortDimensions(n,a);s=combine(s,g[0]),_ready?_unknownDimensions.jsProps=combine(_unknownDimensions.jsProps,g[1]):_unknownDimensions.metaAttrs=combine(_unknownDimensions.metaAttrs,g[1]),(s.source||getSource())&&(s.source=s.source||getSource());var v=getContentType(n),_=getLastContent(v,s),h=getFirstContent(v,s),k=combine(_,h);k=removeSuppressedDimensions(k),s=removeSuppressedDimensions(s);var y=combine(s,l),S=combine(k,_visitDims);infotrack.hasOwnProperty("userDimensions")&&infotrack.userDimensions.hasOwnProperty("visitor_guid")&&(S.visitor_guid=infotrack.userDimensions.visitor_guid);var b=getFoolDimensionsFromUnknown();S=combine(b,S);var O=combine(s,S);if(infotrack.pageDimensions=O,!global.inIframe){var C=combine(y,S);pushToDataLayer(C,"Page"),C.additional=_unknownDimensions,"undefined"!=typeof global.analytics&&global.analytics.page(e,f,C,i,r),_unknownDimensions.jsProps={}}trackReferringArticle(),initialPageCalled=!0},identify=function(e,t,n,i){var r=getFoolCookies(),o=processArguments(arguments,"identify"),a=scopes.identify;e=getUid(r.visitor)||o.name||void 0,t=o.properties||{},n=o.options||{},i=o.callback;var s={},c={visitor_guid:getGuid(r.visitor),isEcapped:isEcapped(r.visitor),account_guid:getAccount(r.visitor),userAgent:getUserAgent()};for(var l in c)s[l]=c[l];for(var u in t)t.hasOwnProperty(u)&&isCustomDimension(u,a)&&(s[u]=t[u]);e&&(s.uid=e);var p=unidentify(),f=combine(s,p);infotrack.userDimensions=s;for(u in s)isEmpty(s[u])&&delete s[u];pushToDataLayer(f,"Identify"),"undefined"!=typeof global.analytics&&(global.analytics.identify(e,f,n,i),trackProductsOwned())},track=function(e,t,n,i){var r=processArguments(arguments,"track"),o=scopes.track;
if(e=r.name,t=r.properties||{},n=r.options||{},i=r.callback,isEmpty(e))return void(global.console&&console.log&&(trackError("Unnamed Track Call"),console.log("ALERT: Infotrack cannot track unnamed event!")));var a=separateGAproperties(t),s=a[1],c=a[0];c.project=project;var l=sortDimensions(c,o);s=combine(s,l[0]),_unknownDimensions.jsProps=combine(_unknownDimensions.jsProps,l[1]),s=removeSuppressedDimensions(s);var u=combine(_visitDims,infotrack.userDimensions),p=combine(u,s);p.additional=clone(_unknownDimensions),global.analytics.track(e,p,n,i),_unknownDimensions.jsProps={}},processArguments=function(e,t){function n(e){var t=e.toString();i(t)?r(t):f.hasOwnProperty("name")?d():f.name=t}function i(e){return"page"===t&&f.hasOwnProperty("name")}function r(e){f.hasOwnProperty("category")?d():(f.category=f.name,f.name=e)}function o(e){a(e)?s(e):f.hasOwnProperty("properties")?d():f.properties=e}function a(e){return e.hasOwnProperty("integrations")&&"object"==typeof e.integrations||f.hasOwnProperty("properties")&&isEmpty(e)}function s(e){f.hasOwnProperty("options")?d():f.options=g(e)}function c(e){f.hasOwnProperty("callback")?d():f.callback=e}function l(e){}function u(e){d("Unsupported Value in "+capitalize(t)+" Call")}for(var p,f={},m={Object:o,String:n,Number:n,Function:c,Undefined:l,"default":u},d=function(){var e="Too Many "+p+" Arguments in "+capitalize(t)+" Call";trackError(e);var n="Infotrack WARNING!\n"+e;global.console&&console.warn&&console.warn(n)},g=function(e){if(e.hasOwnProperty("integrations"))return e.integrations.hasOwnProperty("GoogleAnalytics")&&(e.integrations["Google Analytics"]=e.integrations.GoogleAnalytics),e.integrations.hasOwnProperty("Google Analytics")&&(e.integrations.GoogleAnalytics=e.integrations["Google Analytics"]),e},v=0;v<e.length;v++)p=getType(e[v]),(m[p]||m["default"])(e[v]);return f},isLegalUrl=function(){var e=getUrl();return e.indexOf(".fool.com/data-protection")>-1||e.indexOf(".fool.com/legal/")>-1},createSegmentObject=function(e){if(global.trackerMaker&&global.getSegmentUrl&&global.segmentSnippetVersion){var t=global.analytics=global.analytics||global.trackerMaker();t.invoked===!1&&(t.SNIPPET_VERSION=global.segmentSnippetVersion,e&&(global.segmentKey=e),t.load(global.getSegmentUrl()))}},loadSegment=function(){if(getCookieString("cookieconsent_status")||_euFunctions.push(buildCookieBanner),isLegalUrl()||isBot())createSegmentObject(alternativeSegmentWriteKey);else{var e=getCookieString("ct")||setCTCookieFromConsentCookie();isEmpty(e)?_euFunctions.push(displayGDPRForm):"1"===e?createSegmentObject():createSegmentObject(alternativeSegmentWriteKey)}_euFunctions.length>0&&processLocationBasedFunctions()},canTrackFromConsentCookie=function(){var e,t="True",n=getCookieObject("Consent");for(var i in n)n.hasOwnProperty(i)&&(0===i.toLowerCase().indexOf("sharing")&&(e=n[i]),0===i.toLowerCase().indexOf("selling")&&(t=n[i]));return"True"===t&&"True"===e?1:"False"===t||"False"===e?0:void 0},setCTCookieFromConsentCookie=function(){var e=canTrackFromConsentCookie();if("undefined"!=typeof e)return create_canTrackCookie(e),getCookieString("ct")},processLocationBasedFunctions=function(){reqwest({url:urlIsEU,type:"html",method:"GET",crossOrigin:!0,withCredentials:!0,success:function(e){var t=JSON.parse(e),n=t.status;n?processInEU():processNotInEU()},error:function(e){console.log("Error processing location-based functions: "+e),createSegmentObject(alternativeSegmentWriteKey)}})},processInEU=function(){for(var e=uniq(_euFunctions),t=0;t<e.length;t++)e[t]();_euFunctions=[]},processNotInEU=function(){var e=canTrackFromConsentCookie(),t=_getActiveSegmentKey(),n=1;0===e&&(n=0,t=alternativeSegmentWriteKey),create_canTrackCookie(n),create_consentStatusCookie(),createSegmentObject(t),_euFunctions=[]},displayGDPRForm=function(){dataProtectionForm(),createSegmentObject(alternativeSegmentWriteKey)},dataProtectionModalOrRedirect=function(){function e(){"undefined"!=typeof global.internationalVisitorNotice&&global.internationalVisitorNotice.initialize()}if("https:"===global.location.protocol)getScript(urlGDPRModalJavascript,e);else{var t=global.location.href;global.location.href=getUrlGDPRStandAlonePage()+"?next="+encodeURI(t)}},buildCookieBanner=function(){function e(){"undefined"!=typeof global.cookieconsent&&global.cookieconsent.initialise&&global.cookieconsent.initialise({palette:{popup:{background:"#252e39"},button:{background:"#07a"}},content:{message:"This site uses cookies, pixels, and other similar technologies, as well as social plugins, as further described in our privacy statement.  If you continue to browse our site, you are accepting our use of these tools.  You can modify your browser settings so as not to accept cookies.",link:"Read our privacy statement",href:"https://www.fool.com/legal/privacy-statement/"},cookie:{domain:getDomain()}})}var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css";var n=document.getElementsByTagName("head")[0];n.appendChild(t),getScript("//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js",e)},getScript=function(e,t){var n=document,i="script",r=n.createElement(i),o=n.getElementsByTagName(i)[0];n.async="async",r.src=e,t&&(r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.addEventListener("load",function(e){t(null,e)},!1)),o.parentNode.insertBefore(r,o)},initialize=function(e){pageType=e,project=e,setUrl(),preventCustomDimensionOverride("infotrack_js");var t=getFoolCookies();_visitorCookie=t.visitor,_visitCookie=t.visit,_sookieCookie=t.sookie,_lookieCookie=t.lookie,_lastauthCookie=t.lastauth;var n={};(!ie||ie>8)&&(n=getDimsFromMetaData()),autoTrackLinks();var i=getUid(_visitorCookie)||void 0;_visitDims={session_guid:getSessionGuid(),first_source:getFirstSource(),infotrack_js:infotrack.version,hit_level_uid:i},infotrack.loadSegment(),infotrack.identify(i,n),infotrack.page(pageType,n),_ready=!0,infotrack.ready(_callback)};infotrack.track=track,infotrack.identify=identify,infotrack.page=page,infotrack.pageview=page,infotrack.trackLink=trackLink,infotrack.trackForm=trackForm,infotrack.ready=ready,infotrack.alias=alias,infotrack.debug=debug,infotrack.group=group,infotrack.reset=reset,infotrack.initialize=initialize,infotrack.loadSegment=loadSegment,Object.defineProperty(infotrack,"activeSegmentWriteKey",{get:function(){return _getActiveSegmentKey()},set:function(e){},configurable:!1,enumerable:!0}),Object.defineProperty(infotrack,"alternativeSegmentWriteKey",{get:function(){return alternativeSegmentWriteKey},set:function(e){},configurable:!1,enumerable:!0}),dataProtectionForm=dataProtectionModalOrRedirect;for(var i=0;i<infotrack.length;i++){var item=infotrack[i],method=item.shift(),trackMethod=infotrack[method];trackMethod&&!trackMethod.stub&&trackMethod.apply(infotrack,item)}}(window,document);